<!DOCTYPE html>
<html lang="en"> <!-- Removed 'dark' class from here to let JS handle it -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Niel | Developer Portfolio</title>
    
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <!-- Animate on Scroll (AOS) Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        /* --- FIX: Updated theme logic to be light-first --- */

        /* Default (Light) theme styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f9fafb; /* Light background */
            color: #1f2937; /* Dark text */
            transition: background-color 0.3s, color 0.3s;
        }

        /* Dark theme overrides */
        html.dark body {
            background-color: #0a0a0a;
            color: #e5e7eb;
        }

        /* Glassmorphism effect for the navbar */
        .glass-nav {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        html.dark .glass-nav {
            background: rgba(17, 24, 39, 0.8);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom gradient text */
        .gradient-text {
            background: linear-gradient(to right, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Custom Timeline styling */
        .timeline-item::before {
            content: '';
            position: absolute;
            top: 1.25rem;
            left: -0.45rem;
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 9999px;
            background-color: #3b82f6;
            border: 2px solid #e5e7eb;
        }

        html.dark .timeline-item::before {
            border: 2px solid #1f2937;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header / Navigation -->
    <header id="header" class="fixed top-0 left-0 w-full z-50 transition-all duration-300 glass-nav">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-20">
            <a href="#" class="text-2xl font-bold gradient-text">wondrv</a>
            <ul class="hidden md:flex space-x-8">
                <li><a href="#about" class="nav-link text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-500 transition duration-300">About</a></li>
                <li><a href="#skills" class="nav-link text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-500 transition duration-300">Skills</a></li>
                <li><a href="#timeline" class="nav-link text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-500 transition duration-300">Timeline</a></li>
                <li><a href="#projects" class="nav-link text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-500 transition duration-300">Projects</a></li>
                <li><a href="#contact" class="nav-link text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-500 transition duration-300">Contact</a></li>
            </ul>
             <button id="theme-toggle" class="p-2 rounded-md text-gray-500 hover:text-blue-600 hover:bg-gray-100 dark:hover:text-blue-500 dark:hover:bg-gray-700 transition">
                <svg id="theme-icon-dark" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg id="theme-icon-light" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            </button>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24">

        <!-- Hero Section -->
        <section id="hero" class="min-h-[80vh] flex items-center">
            <div class="w-full text-center md:text-left md:w-2/3" data-aos="fade-right">
                <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 dark:text-white leading-tight">
                    Hi, I'm Niel, a <br/>
                    <span class="gradient-text" id="typed-text"></span>
                </h1>
                <p class="mt-6 text-lg text-gray-600 dark:text-gray-400 max-w-xl mx-auto md:mx-0">
                    A passionate developer from Indonesia, crafting elegant solutions to complex problems and building beautiful digital experiences.
                </p>
                <div class="mt-8 flex justify-center md:justify-start space-x-4">
                    <a href="#projects" class="bg-blue-600 text-white font-semibold px-8 py-3 rounded-md hover:bg-blue-700 transition duration-300">
                        View My Work
                    </a>
                    <a href="#contact" class="bg-gray-800 text-white font-semibold px-8 py-3 rounded-md hover:bg-gray-900 transition duration-300">
                        Get In Touch
                    </a>
                </div>
            </div>
             <div class="hidden md:block md:w-1/3" data-aos="fade-left">
                <img src="https://placehold.co/400x400/111827/3b82f6?text=Your\nImage\nHere" alt="Your Profile Picture" class="rounded-full shadow-2xl mx-auto">
             </div>
        </section>

        <!-- About Me Section -->
        <section id="about" class="py-20" data-aos="fade-up">
            <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">About Me</h2>
            <div class="text-center max-w-3xl mx-auto text-gray-600 dark:text-gray-300 text-lg leading-relaxed">
                <p>
                    I am a full-stack developer with a passion for building things that live on the internet. My journey into tech began with a deep curiosity for how things work, and it has evolved into a career where I get to solve challenging problems and create intuitive, high-performance web applications. I thrive in environments where I can collaborate, learn, and turn ideas into reality.
                </p>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20" data-aos="fade-up">
            <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">My Tech Arsenal</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 text-center">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML5" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">HTML5</span>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" alt="CSS3" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">CSS3</span>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">JavaScript</span>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg" alt="React" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">React</span>
                </div>
                 <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">Python</span>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex flex-col items-center justify-center space-y-3 hover:shadow-xl hover:dark:bg-gray-700 hover:scale-105 transition-all duration-300">
                    <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" alt="Node.js" class="h-16 w-16"/>
                    <span class="font-semibold text-gray-700 dark:text-white">Node.js</span>
                </div>
            </div>
        </section>

        <!-- Timeline Section -->
        <section id="timeline" class="py-20" data-aos="fade-up">
            <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-16">My Journey</h2>
            <div class="relative max-w-2xl mx-auto border-l-2 border-gray-200 dark:border-gray-700">
                <div class="mb-10 ml-6 timeline-item" data-aos="fade-left">
                    <h3 class="text-xl font-semibold text-blue-600 dark:text-blue-400">2024 - Web Developer</h3>
                    <time class="block mb-2 text-sm font-normal leading-none text-gray-500 dark:text-gray-400">Present</time>
                    <p class="text-base font-normal text-gray-600 dark:text-gray-400">Started my journey as a web developer, focusing on creating dynamic and user-friendly web applications.</p>
                </div>
                <div class="mb-10 ml-6 timeline-item" data-aos="fade-left">
                    <h3 class="text-xl font-semibold text-blue-600 dark:text-blue-400">2023 - Tech Internship</h3>
                    <time class="block mb-2 text-sm font-normal leading-none text-gray-500 dark:text-gray-400">Internship Period</time>
                    <p class="text-base font-normal text-gray-600 dark:text-gray-400">Interned at a fast-paced tech startup where I learned about agile development practices and collaborative coding.</p>
                </div>
                <div class="mb-10 ml-6 timeline-item" data-aos="fade-left">
                     <h3 class="text-xl font-semibold text-blue-600 dark:text-blue-400">2022 - Graduation</h3>
                    <time class="block mb-2 text-sm font-normal leading-none text-gray-500 dark:text-gray-400">Academic Completion</time>
                    <p class="text-base font-normal text-gray-600 dark:text-gray-400">Graduated with a degree in Informatics, which sparked my interest in exploring Artificial Intelligence.</p>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-20" data-aos="fade-up">
            <h2 class="text-4xl font-bold text-center text-gray-900 dark:text-white mb-12">Featured Projects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden group shadow-lg hover:shadow-2xl transition-shadow duration-300" data-aos="zoom-in-up">
                    <img src="https://placehold.co/600x400/111827/3b82f6?text=Project+One" alt="Project 1 Screenshot" class="w-full h-48 object-cover group-hover:opacity-75 transition-opacity duration-300">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Project Title One</h3>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">React</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">Node.js</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400 mb-4 project-description">A brief description of your project goes here. What does it do?</p>
                        <div class="flex space-x-4">
                            <a href="#" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline font-semibold">Live Demo →</a>
                            <a href="#" target="_blank" class="text-gray-500 dark:text-gray-400 hover:underline font-semibold">GitHub →</a>
                        </div>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden group shadow-lg hover:shadow-2xl transition-shadow duration-300" data-aos="zoom-in-up" data-aos-delay="100">
                    <img src="https://placehold.co/600x400/111827/8b5cf6?text=Project+Two" alt="Project 2 Screenshot" class="w-full h-48 object-cover group-hover:opacity-75 transition-opacity duration-300">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Project Title Two</h3>
                         <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">Python</span>
                            <span class="bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">Flask</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400 mb-4 project-description">Another awesome project description. Highlight the key features.</p>
                        <div class="flex space-x-4">
                            <a href="#" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline font-semibold">Live Demo →</a>
                            <a href="#" target="_blank" class="text-gray-500 dark:text-gray-400 hover:underline font-semibold">GitHub →</a>
                        </div>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden group shadow-lg hover:shadow-2xl transition-shadow duration-300" data-aos="zoom-in-up" data-aos-delay="200">
                    <img src="https://placehold.co/600x400/111827/10b981?text=Project+Three" alt="Project 3 Screenshot" class="w-full h-48 object-cover group-hover:opacity-75 transition-opacity duration-300">
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Project Title Three</h3>
                         <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">JavaScript</span>
                        </div>
                        <p class="text-gray-600 dark:text-gray-400 mb-4 project-description">Describe your third project here. Make it sound interesting!</p>
                        <div class="flex space-x-4">
                            <a href="#" target="_blank" class="text-blue-600 dark:text-blue-400 hover:underline font-semibold">Live Demo →</a>
                            <a href="#" target="_blank" class="text-gray-500 dark:text-gray-400 hover:underline font-semibold">GitHub →</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 text-center" data-aos="fade-up">
            <h2 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Let's Connect!</h2>
            <p class="text-gray-600 dark:text-gray-400 mb-8 max-w-2xl mx-auto">I'm currently open to new opportunities. Feel free to reach out if you have a project in mind, a question, or just want to say hi!</p>
            <a href="mailto:youremail@example.com" class="inline-block bg-blue-600 text-white font-bold px-10 py-4 rounded-md hover:bg-blue-700 transition duration-300">
                Email Me
            </a>
            <div class="mt-12 flex justify-center space-x-6">
                <a href="https://github.com/wondrv" target="_blank" class="text-gray-500 dark:text-gray-400 hover:text-white transition duration-300">
                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
                </a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-gray-200 dark:border-gray-800">
        <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-600 dark:text-gray-500">
             <p>&copy; 2024 Niel. All rights reserved.</p>
        </div>
    </footer>

    <!-- Gemini AI Chat Assistant Section -->
    <div id="ai-chat-container" class="fixed bottom-5 right-5 z-50">
        <button id="chat-bubble" class="bg-blue-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center hover:bg-blue-700 transition-transform hover:scale-110">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
        </button>
        <div id="chat-modal" class="hidden absolute bottom-20 right-0 w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-lg shadow-2xl flex flex-col transition-all origin-bottom-right" data-aos="zoom-in-up" data-aos-duration="300">
            <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">
                <h3 class="font-bold text-lg text-gray-900 dark:text-white">✨ Ask My AI Assistant</h3>
                <button id="close-chat" class="text-gray-500 hover:text-gray-800 dark:hover:text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="chat-messages" class="flex-1 p-4 space-y-4 overflow-y-auto h-80">
                <div class="flex items-start gap-3">
                    <div class="bg-blue-500 text-white p-2 rounded-full text-sm font-semibold flex-shrink-0">AI</div>
                    <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-sm text-gray-800 dark:text-gray-200">
                        <p>Hi there! I'm Niel's AI assistant. Feel free to ask me anything about his skills, projects, or journey.</p>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-200 dark:border-gray-700">
                <form id="chat-form" class="flex gap-2">
                    <input type="text" id="chat-input" placeholder="Ask about a project..." class="flex-1 p-2 rounded-md bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white" required>
                    <button type="submit" id="send-button" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed">
                        Send
                    </button>
                </form>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script>
        // Initialize Animate on Scroll
        AOS.init({
            duration: 700,
            once: true,
        });

        // Initialize Typed.js for the hero section
        new Typed('#typed-text', {
            strings: ['a Full-Stack Developer.', 'a Problem Solver.', 'a Tech Enthusiast.'],
            typeSpeed: 50,
            backSpeed: 30,
            backDelay: 2000,
            loop: true,
            cursorChar: '|'
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
        
        // --- FIX: Refactored Theme Toggler Logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const htmlEl = document.documentElement;
        const darkIcon = document.getElementById('theme-icon-dark');
        const lightIcon = document.getElementById('theme-icon-light');

        // This function applies the selected theme
        const applyTheme = (theme) => {
            if (theme === 'dark') {
                htmlEl.classList.add('dark');
                darkIcon.classList.remove('hidden');
                lightIcon.classList.add('hidden');
            } else {
                htmlEl.classList.remove('dark');
                darkIcon.classList.add('hidden');
                lightIcon.classList.remove('hidden');
            }
        };

        // Determine and apply the initial theme on page load
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);

        // Add event listener for the theme toggle button
        themeToggle.addEventListener('click', () => {
            const isDark = htmlEl.classList.contains('dark');
            const newTheme = isDark ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });


        // --- ✨ Gemini AI Chat Assistant Logic ---
        const chatBubble = document.getElementById('chat-bubble');
        const chatModal = document.getElementById('chat-modal');
        const closeChat = document.getElementById('close-chat');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');
        const sendButton = document.getElementById('send-button');

        chatBubble.addEventListener('click', () => chatModal.classList.toggle('hidden'));
        closeChat.addEventListener('click', () => chatModal.classList.add('hidden'));
        
        const aiContext = `
            You are Niel's friendly and professional AI assistant, embedded in his portfolio website. Your goal is to answer questions from visitors (like recruiters or collaborators) about Niel. Use the following information about him to answer questions. Be conversational and helpful. Keep your answers concise and well-formatted.

            **About Niel:**
            - **Role:** Passionate Full-Stack Developer from Indonesia.
            - **Mission:** Crafts elegant solutions to complex problems and builds beautiful digital experiences.
            - **Skills (Tech Arsenal):** HTML5, CSS3, JavaScript, React, Python, Node.js.
            - **Journey/Timeline:**
                - 2024: Started his journey as a professional web developer.
                - 2023: Interned at a tech startup, learning agile practices.
                - 2022: Graduated with a degree in Informatics and began exploring AI.
            - **Projects:**
                - Project One: A project built with React and Node.js.
                - Project Two: A project built with Python and Flask.
                - Project Three: A project built with modern JavaScript and an external API.

            If a user asks a question you cannot answer from this information, politely say, "That's a great question! I don't have that specific information, but you can contact Niel directly through the 'Email Me' button to ask him." Do not make up information.
        `;
        let chatHistory = [{ role: "user", parts: [{ text: aiContext }] }];

        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const userInput = chatInput.value.trim();
            if (!userInput) return;
            appendMessage('user', userInput);
            chatInput.value = '';
            setLoading(true);
            chatHistory.push({ role: "user", parts: [{ text: userInput }] });

            try {
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                const payload = { contents: chatHistory };
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`API error: ${response.statusText}`);
                const result = await response.json();
                
                if (result.candidates && result.candidates[0].content && result.candidates[0].content.parts[0]) {
                    const aiResponse = result.candidates[0].content.parts[0].text;
                    chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });
                    appendMessage('ai', aiResponse);
                } else {
                    appendMessage('ai', "Sorry, I couldn't get a response. Please try again.");
                }
            } catch (error) {
                console.error("Gemini API call failed:", error);
                appendMessage('ai', "Sorry, something went wrong. Please check the console for details.");
            } finally {
                setLoading(false);
            }
        });

        function appendMessage(sender, message) {
            const messageWrapper = document.createElement('div');
            let messageHtml = '';
            if (sender === 'user') {
                messageHtml = `
                    <div class="flex items-start gap-3 justify-end">
                        <div class="bg-blue-600 text-white p-3 rounded-lg text-sm max-w-xs">
                            <p>${message}</p>
                        </div>
                        <div class="bg-gray-700 text-white p-2 rounded-full text-sm font-semibold flex-shrink-0">You</div>
                    </div>`;
            } else {
                 messageHtml = `
                    <div class="flex items-start gap-3">
                        <div class="bg-blue-500 text-white p-2 rounded-full text-sm font-semibold flex-shrink-0">AI</div>
                        <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-sm text-gray-800 dark:text-gray-200 max-w-xs">
                            <p>${message}</p>
                        </div>
                    </div>`;
            }
            messageWrapper.innerHTML = messageHtml;
            chatMessages.appendChild(messageWrapper);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function setLoading(isLoading) {
            chatInput.disabled = isLoading;
            sendButton.disabled = isLoading;
            if (isLoading) {
                sendButton.innerHTML = `<svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>`;
            } else {
                sendButton.innerHTML = 'Send';
            }
        }
    </script>
</body>
</html>
